---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ntfy-config
  namespace: ntfy
  labels:
    app.kubernetes.io/name: ntfy
data:
  server.yml: |
    # ntfy server configuration
    # https://docs.ntfy.sh/config/
    
    base-url: "https://ntfy.mbianchi.me"
    listen-http: ":80"
    
    # Cache
    cache-file: "/var/cache/ntfy/cache.db"
    cache-duration: "24h"
    
    # Attachment settings
    attachment-cache-dir: "/var/cache/ntfy/attachments"
    attachment-total-size-limit: "1G"
    attachment-file-size-limit: "50M"
    attachment-expiry-duration: "24h"
    
    # Auth database
    auth-file: "/var/lib/ntfy/auth.db"
    auth-default-access: "deny-all"
    
    # Behind reverse proxy
    behind-proxy: true
    
    # Logging
    log-level: "info"
    log-format: "json"

